# android-signup

## Step4 구현 목록

- [x] 컴포넌트 단위로 뷰 및 테스트 코드 단순 분리
- [x] SignUpTitle 테스트 코드 작성
- [x] SignUpHelperText 테스트 코드 작성
- [x] PasswordConfirmTextField 컴포넌트 고유 속성 주입
- [x] PasswordConfirmTextField 테스트 코드 작성
- [x] 테스트 코드 리팩터링
- [x] Stateless, Stateful 컴포넌트 분리
- [x] 유효성 검사 로직 테스트 코드 추가
- [x] SignUpButton 활성화 로직 추가
- [x] SignUpButton 활성화 뷰 반영
- [x] SignUpButton 테스트 코드 작성
- [x] 피드백 1차 반영 주요 사항
  - [x] HelperTextMessage 제거
  - [x] Modifier 파라미터로 전달

## Step4 진행 중 의식의 흐름

- 리팩터링을 하면서 테스트 코드가 컴포넌트 단위로 나눠지지 않은 것이 문제였다는 생각이 듭니다. 수정한 부분 외에 모든 컴포넌트 테스트가 같이 돌아가니 너무 느리네요. 이건
  컴포즈의 문제가 아니라 저의 명백한 실수네요.
- 하나의 TextField로 모든 컴포넌트를 커버하기 위해서 불필요한 로직(복잡성!) 고민으로 보낸 시간이 아깝네요. 그 시간에 컴포넌트 단위로 나누는 연습에 더 집중했어야
  했는데...
- 처음에는 비밀번호와 비밀번호 확인 헬퍼 텍스트에 동일한 기준으로 표시하고 비밀번호 확인에는 추가적으로 일치 여부 메시지를 표시하려고 했습니다. 그래서 비밀번호 확인 아래에
  추가적인 헬퍼 텍스트필드가 있었습니다. 그렇다 보니 로직이 좀 더 복잡해졌습니다. 그런데 생각해 보니 이건 기획 기준에 따라 다르겠지만 굳이 비밀번호 확인에서는 영문과 숫자,
  길이 제한에 대한 헬퍼 텍스트를 노출할 필요가 없다고 생각됩니다. 일치하지 않는다는 것은 그것을 이미 어기고 있다는 것이니까요. 그래서 그부분은 제거하고 일치 여부에 대한 헬퍼
  텍스트 노출만 하는 방식으로 바꿔봤습니다.
- UsernameTextField와 EmailTextField는 다시 합치고 싶지만 일단 분리했습니다.
- HelperTextMessage는 Composable 함수로 만들었습니다. String을 가져올 때 Context를 별도로 주입받지 않고 가져올 수 있어서입니다. 뭔가 개선이
  필요할 것 같은 느낌이 듭니다.
- Parameterized Test는 JUnit4에서 하려니 테스트 단위가 다른 테스트와 통일성을 잃는 것 같아서 일반 보류했습니다.
- PasswordConfirmTextField는 헬퍼 텍스트를 위한 상태를 상위 컴포넌트인 SignUpScreen에서 관리하고 있습니다. 그렇게 보니 다른 xxxTextField
  컴포저블 내부 TextField도 나눌 수 있을 것 같습니다. 일단 해보겠습니다.
- 버튼 상태를 구현하다 보니 최상단 컴포저블 함수인 SignUpScreen에 상태가 많이 쌓입니다. 알 수 없는 찝찝함이 듭니다.
- 또한 상태를 최상단에서 관리하다 보니 분리했던 컴포저블 함수들이 Stateless로 바뀌었습니다.
- 헬퍼 텍스트를 한꺼번에 보여주지 않고 각 케이스에 맞춰서 나눠서 보여주려고 TextFieldState를 만들었더니 로직이 약간 복잡해졌네요.
- 분리했던 컴포저블 함수들이 Stateless로 바꾸면 테스트가 다 깨져서 새로 작성해야 하는데... ㅠㅠ => 유레카..(??) SignUpScreen()를 setUp 하면
  되는데 옳은 방법인지...

## Step3 구현 목록

- [x] Step2 피드백 반영
- [x] 유효성 검사 규칙 추가
- [x] 이름 유효성 검사
    - [x] 글자 수 제한
    - [x] 숫자와 기호 제한
    - [x] 헬퍼 텍스트 추가
- [x] 이메일 유효성 검사
    - [x] 이메일 형식 검사
    - [x] 헬퍼 텍스트 추가
- [x] 비밀번호 유효성 검사
    - [x] 글자 수 제한
    - [x] 영문과 숫자 포함
    - [x] 헬퍼 텍스트 추가
- [x] 비밀번호 일치 여부 검사
    - [x] 헬퍼 텍스트 추가
- [x] 유효성 검사 테스트 코드 구현

## Step3 진행 중 의식의 흐름

- 보통 xml에서 EditText를 재활용하진 않듯이 각각의 TextField를 만들까 하다가 컴포저블은 함수니까 그렇게 하면 장점을 활용하지 못한다는 생각이 들었습니다. 하지만
  재활용에 과몰입한 상태에서 에러 처리까지 고려하다 보니 과도한 추상화(?)가 된 것인지 걱정이 들기 시작했습니다.
  함수가 하나의 기능만 한다는 관점에서도 이름, 이메일, 패스워드가 하나의 기능인지도 고민이 되었습니다. 물론 관점에 따라 다를 수 있다고 생각은 하는데 같은 기능(=입력 받는
  기능)이라는 관점으로 진행했습니다. 첫 미션인 만큼 컴포즈 자체에 좀 더 집중할 필요가 있다고도 생각했습니다.

- 상태 관리를 StateFlow를 사용하면 좀 더 나을 것 같은데, 그럼 ViewModel 같은 클래스도 생길 것 같아서 2단계의 프로그래밍 요구 사항에 따라 사용을
  지양했습니다.

- SignUpTextField를 하나로 관리하기를 유지 중입니다. 하지만 비밀번호와 비밀번호 확인은 또 다른 하나의 컴포저블 함수로 만들어서 관리하면 최상단인
  InitViews에서 별도로 HelperText를 관리하지 않아도 될 것 같다는 생각이 들었습니다.
  리팩터링 해볼 만한 요소일까요? 무리하게 하나의 컴포저블 함수로 관리하려다 보니 함수 내부가 비대해 지는 것을 느꼈습니다. 개선에 대한 고민이 필요할 것 같습니다.
- 테스트 코드를 짜면서 뭔가 단단히 잘못됨을 느꼈다. 특히 비밀번호 일치 테스트 코드는 엉망인 것 같다. 이 부분을 개선해야겠다.

## Step2 기능 목록

- [x] 타이틀 추가
- [x] 입력 폼 추가
- [x] 회원가입 버튼 추가